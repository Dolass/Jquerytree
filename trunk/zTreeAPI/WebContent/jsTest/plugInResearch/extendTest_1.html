<!DOCTYPE html>
<html>
  <head>
    <title>extend Test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  </head>
  <body>
	  <div id="x">x</div>
	  <div id="xDeep">xDeep</div>
	  <div id="z">z</div>
	  <div id="zDeep">zDeep</div>
	  <div id="t">t</div>
	  <div id="tDeep">tDeep</div>
	<script type="text/javascript" src="../jQuery/jquery-1.4.2.js"></script>
	<script type="text/javascript">
		var a = {a:{a1:1, a2:2}};
		var b = {b:function(){alert('b');}};
		var x, xDeep, z, zDeep, t, tDeep;
(function($){
	var p = function () {
		console.log('p...');
	},
	pp = function () {
		console.log('pp...');
	};
	$.fn.zTree = {
		self: {
			proxys:[]
		},
		init: function(t) {console.log(t); console.log("init..."); p()},
		getZTree: function(){
			console.log("3---" + $.fn.zTree.self.proxys.length);
			for(var i=0,j=this.self.proxys.length; i<j; i++) {
				this.self.proxys[i].apply(this, arguments);
			}
			console.log("getZTree...");
		}
	};

})(jQuery);

(function($) {
	var i=1, j=2;
	var f = {
		f: function() {console.log(i+','+j); i++; j++; }
	};
	$.fn.zTree.self.proxys.push(f.f);
	console.log("1---" + $.fn.zTree.self.proxys.length);

	$.extend($.fn.zTree, f);
	console.log("1---" + $.fn.zTree.self.proxys.length);

})(jQuery);

(function($) {
	var ii=-1, jj=-2;
	var ff = {
		ff: function() {console.log(ii+','+jj); ii--; jj--;}
	};
	$.fn.zTree.self.proxys.push(ff.ff);
	$.extend($.fn.zTree, ff);
	console.log("2---" + $.fn.zTree.self.proxys.length);

})(jQuery);

		$(document).ready(function(){
			t = $("#t"); tDeep = $("#tDeep");

			$.fn.zTree.init(t, []);
			t.zTree.f();
			t.zTree.ff();
			t.zTree.getZTree();

		});
	</script>
  </body>
</html>
