<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
 <HEAD>
  <TITLE> ZTREE DEMO </TITLE>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="demoStyle/demo.css" type="text/css">
  <link rel="stylesheet" href="zTreeStyle/zTreeStyle.css" type="text/css">
  <link rel="stylesheet" href="zTreeStyle/zTreeIcons.css" type="text/css">
  <script type="text/javascript" src="jquery-1.4.2.js"></script>
  <script type="text/javascript" src="jquery-ztree-2.2.js"></script>
  <script type="text/javascript" src="demo.js"></script>
  <SCRIPT LANGUAGE="JavaScript">
  <!--
var simpleNodes1 =[
{id:'06585df382bc46569b61992ec15686a7',pId:'0',name:"sf77"},
{id:'0fa34f44ff5948fd89d36bd7f18ec9b5',pId:'0',name:"saf"},
{id:'205242dc50d742fc9211812b361f5196',pId:'0',name:"珠海2"},
{id:'1fef67a4133d4cbfb7a5e3ba67956125',pId:'0',name:"珠海"},
{id:'a4d591b243154bc193170cea65721f00',pId:'205242dc50d742fc9211812b361f5196',name:"珠海2"},
{id:'7b2c40de947349c9bcc6c8824801f61e',pId:'06585df382bc46569b61992ec15686a7',name:"珠海"},
{id:'43276c6574e44605be5437954ec89618',pId:'205242dc50d742fc9211812b361f5196',name:"珠海"},
{id:'67321abc5b8441a8b9bc616d31f58616',pId:'06585df382bc46569b61992ec15686a7',name:"珠海"},
{id:'7000d6413a43458fae2fb1966edf5907',pId:'06585df382bc46569b61992ec15686a7',name:"珠海"},
{id:'7fd84253b60147fc9425050ab586aacf',pId:'7b2c40de947349c9bcc6c8824801f61e',name:"sad"},
{id:'8dafb11811564865993c8cb26e55b649',pId:'7b2c40de947349c9bcc6c8824801f61e',name:"df"},
{id:'90bc91519e0b46c1b2a023a419ae63e7',pId:'7b2c40de947349c9bcc6c8824801f61e',name:"珠海2"},
{id:'cb79e21306c24218a4c514aa3e3534d5',pId:'0fa34f44ff5948fd89d36bd7f18ec9b5',name:"珠海2"},
{id:'cc8739c289b844d692bd05b82b3b1233',pId:'0fa34f44ff5948fd89d36bd7f18ec9b5',name:"珠海3"},
{id:'dbfe244273c740d7bf640a07a50eb2fe',pId:'0fa34f44ff5948fd89d36bd7f18ec9b5',name:"珠海"},
{id:'336f6c9bb150446dad5a6b06d7ebb7b6',pId:'205242dc50d742fc9211812b361f5196',name:"珠海"},
{id:'3cf3141bc1294b0f9d86fbc33d62d773',pId:'205242dc50d742fc9211812b361f5196',name:"ss"},
{id:'3d9eb26b29ee4ffc997796a48e26d968',pId:'205242dc50d742fc9211812b361f5196',name:"珠海"},
{id:'439f34f4115f40c9bfefe3723e4c070c',pId:'43276c6574e44605be5437954ec89618',name:"珠海"},
{id:'5ea2aaea08864e93bb683b486546a323',pId:'43276c6574e44605be5437954ec89618',name:"珠海"},
{id:'6142690e91fa4af4846f374d6471e928',pId:'43276c6574e44605be5437954ec89618',name:"珠海3"},
{id:'94f9d12d170e4dd8bd1271e1e1385a9b',pId:'205242dc50d742fc9211812b361f5196',name:"珠海"},
{id:'9c184ab1d7f64103b67bff4b6871ca73',pId:'205242dc50d742fc9211812b361f5196',name:"a"},
{id:'ad69c5abf2de4c539640b56776ddc48f',pId:'a4d591b243154bc193170cea65721f00',name:"珠海3"},
{id:'b22e8f414894428fa788e8f6b5afcc09',pId:'a4d591b243154bc193170cea65721f00',name:"asd"},
{id:'b73c0517b9cd43febb449279931374c8',pId:'a4d591b243154bc193170cea65721f00',name:"珠海"},
{id:'c28b81213c634d4c8308ee89a0807920',pId:'a4d591b243154bc193170cea65721f00',name:"珠海"},
{id:'c48271145d5d444e9f3498fde526d419',pId:'a4d591b243154bc193170cea65721f00',name:"珠海2"}
];

	var zTree1;

	var setting = {
		showLine: true
	};

	$(document).ready(function(){
		reloadTree("1");
	});

	function changeIconSkin(zNodes, skinName) {
		if ($("#standardData").attr("checked")) {
			zNodes[0].iconSkin = skinName + "1";
			zNodes[1].iconSkin = skinName + "1";
			zNodes[2].iconSkin = skinName + "1";
			zNodes[0].nodes[0].iconSkin = skinName + "2";
			zNodes[0].nodes[1].iconSkin = skinName + "3";
			zNodes[0].nodes[2].iconSkin = skinName + "4";
			zNodes[0].nodes[3].iconSkin = skinName + "5";
			zNodes[1].nodes[0].iconSkin = skinName + "6";
			zNodes[1].nodes[1].iconSkin = skinName + "7";
			zNodes[1].nodes[2].iconSkin = skinName + "8";
			zNodes[2].nodes[0].iconSkin = skinName + "9";
			zNodes[2].nodes[1].iconSkin = skinName + "10";
			zNodes[2].nodes[2].iconSkin = skinName + "2";
		} else {
			zNodes[0].iconSkin = skinName + "1";
			zNodes[17].iconSkin = skinName + "1";
			zNodes[37].iconSkin = skinName + "1";
			zNodes[1].iconSkin = skinName + "2";
			zNodes[6].iconSkin = skinName + "3";
			zNodes[11].iconSkin = skinName + "4";
			zNodes[16].iconSkin = skinName + "5";
			zNodes[18].iconSkin = skinName + "6";
			zNodes[27].iconSkin = skinName + "7";
			zNodes[33].iconSkin = skinName + "8";
			zNodes[38].iconSkin = skinName + "9";
			zNodes[39].iconSkin = skinName + "10";
			zNodes[43].iconSkin = skinName + "2";
		}
	}
	
	var curType = '0';
	var curLi;
	function reloadTree(type) {
		if (curLi) curLi.removeClass("focus");
		$("#sim").attr("disabled", true);
		$("#flag").attr("disabled", true);
	
		var setting1 = clone(setting);
		setting1.treeNodeKey = "id";
		setting1.treeNodeParentKey = "pId";
		var zNodes1 = $("#standardData").attr("checked") ? clone(zNodes) : clone(simpleNodes);
		if ($("#standardData").attr("checked")) {
			$("#standardDataDemo").css({"display":"block"});
			$("#simpleDataDemo").css({"display":"none"});
			setting1.isSimpleData = false;
			zNodes1 = clone(zNodes);
		} else {
			$("#standardDataDemo").css({"display":"none"});
			$("#simpleDataDemo").css({"display":"block"});
			setting1.isSimpleData = true;
			zNodes1 = clone(simpleNodes1);
		}

		if (!type) type = (curType=='0') ? '1' : curType;
		setting1.nameCol = $("#nameCol_1").attr("checked") ? "name" : "ename";
		setting1.expandSpeed = $("#speed_1").attr("checked") ? "fast" : ($("#speed_2").attr("checked") ? "slow" : "");
		
		if (type=="1") {
			setting1.showLine = true;
			curLi = $("#defaultStyle");
			
		} else if (type=="2") {
			setting1.showLine = false;
			curLi = $("#noLineStyle");
			
		} else if (type=="3") {
			setting1.showLine = true;

			if ($("#standardData").attr("checked")) {
				zNodes1[0].icon = "demoStyle/img/phone.gif";
				zNodes1[2].icon = "demoStyle/img/home.gif";
				zNodes1[1].nodes[0].icon = "demoStyle/img/hardware.gif";
				zNodes1[1].nodes[2].icon = "demoStyle/img/people.gif";
			} else {
				zNodes1[0].icon = "demoStyle/img/phone.gif";
				zNodes1[37].icon = "demoStyle/img/home.gif";
				zNodes1[18].icon = "demoStyle/img/hardware.gif";
				zNodes1[33].icon = "demoStyle/img/people.gif";
			}
			
			curLi = $("#diyIconStyle");
			
		} else if (type=="4") {
			setting1.showLine = true;
			$("#sim").attr("disabled", false);
			$("#flag").attr("disabled", false);
			
			curLi = $("#cssIconStyle");
			var cssSkin = "sim";
			if ($("#flag").attr("checked")) {
				cssSkin = "flag";
			}
			changeIconSkin(zNodes1, cssSkin);
		}
	
		curLi.addClass("focus");
		curType = type;
		zTree1 = $("#treeDemo").zTree(setting1, zNodes1);
		$("#nameCode").html(setting1.nameCol);
		$("#expandSpeedCode").html(setting1.expandSpeed);
		$("#isSimpleDataCode").html(setting1.isSimpleData + "");
		
	}
	function clone(jsonObj) {
	    var buf;
	    if (jsonObj instanceof Array) {
	        buf = [];
	        var i = jsonObj.length;
	        while (i--) {
	            buf[i] = clone(jsonObj[i]);
	        }
	        return buf;
	    }else if (typeof jsonObj == "function"){
	        return jsonObj;
	    }else if (jsonObj instanceof Object){
	        buf = {};
	        for (var k in jsonObj) {
	            buf[k] = clone(jsonObj[k]);
	        }
	        return buf;
	    }else{
	        return jsonObj;
	    }
	} 
  //-->
  </SCRIPT>
  
 </HEAD>

<BODY>
<center class="headTitle">基本功能演示</center>
<TABLE border=0 width="700" class="tb1">
	<TR>
		<TD width=340px align=center valign=top>
		<div class="zTreeDemoBackground">
			<ul id="treeDemo" class="tree"></ul>
		</div>		
		</TD>
		<TD width=360px align=left valign=top>
		<div class="demoContent">
			<li class="title focus">
				<button class="ico books" onfocus="this.blur();"></button>基本配置
				<ul class="remark">——修改以下配置后，看看有什么变化</ul>
				<ul>
					节点显示名称对应属性:&nbsp;
					<INPUT TYPE="radio" id="nameCol_1" NAME="nameColRadio" checked onclick="reloadTree();">name (Default)
					<INPUT TYPE="radio" id="nameCol_2" NAME="nameColRadio" onclick="reloadTree();">ename
				</ul>
				<ul class="event">
					<li>&nbsp;setting.nameCol = "<a id="nameCode">name</a>";</li>
				</ul>
				<ul>
					展开、折叠效果:&nbsp;
					<INPUT TYPE="radio" id="speed_1" NAME="speedRadio" checked onclick="reloadTree();">fast (Default)
					<INPUT TYPE="radio" id="speed_2" NAME="speedRadio" onclick="reloadTree();">slow
					<INPUT TYPE="radio" id="speed_3" NAME="speedRadio" onclick="reloadTree();">关
				</ul>
				<ul class="event">
					<li>&nbsp;setting.expandSpeed = "<a id="expandSpeedCode">fast</a>";</li>
				</ul>
				<ul>
					zTreeNode 数据格式:&nbsp;
					<br/>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT TYPE="radio" id="standardData" NAME="dataRadio" checked onclick="reloadTree(curType);">标准深层嵌套 JSON 格式 (Default)
					<br/>&nbsp;&nbsp;&nbsp;&nbsp;<INPUT TYPE="radio" id="simpleData" NAME="dataRadio" onclick="reloadTree(curType);">简单 Array 数组格式
					
				</ul>
				<ul class="event">
					<li>&nbsp;setting1.isSimpleData = <a id="isSimpleDataCode">false</a>;</li>
					<li>&nbsp;setting1.treeNodeKey = "<a id="treeNodeKeyCode">id</a>";</li>
					<li>&nbsp;setting1.treeNodeParentKey = "<a id="treeNodeParentKeyCode">pId</a>";</li>
					<li id="standardDataDemo">
<pre xmlns=""><code>var zTreeNodes = [
&nbsp;&nbsp;&nbsp;&nbsp;{"id":1, "name":"test1", "nodes":[
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"id":11, "name":"test11", "nodes":[
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"id":111, "name":"test111"}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{"id":12, "name":"test12"}
&nbsp;&nbsp;&nbsp;&nbsp;]},
&nbsp;&nbsp;&nbsp;&nbsp;......
];</code></pre>
					</li>
					<li id="simpleDataDemo" style="display:none;">
<pre xmlns=""><code>var simpleNodes = [
&nbsp;&nbsp;&nbsp;&nbsp;{"id":1, "pId":0, "name":"test1"},
&nbsp;&nbsp;&nbsp;&nbsp;{"id":11, "pId":1, "name":"test11"},
&nbsp;&nbsp;&nbsp;&nbsp;{"id":12, "pId":1, "name":"test12"},
&nbsp;&nbsp;&nbsp;&nbsp;{"id":111, "pId":11, "name":"test111"},
&nbsp;&nbsp;&nbsp;&nbsp;......
];</code></pre>
					</li>
					
				</ul>
			</li>
			<li class="title">
				<button class="ico skin" onfocus="this.blur();"></button>显示样式设置
				<ul class="remark">——点击以下不同样式，看看有什么变化</ul>
				<ul>
					<li id="defaultStyle" class="menu" onclick="reloadTree('1')">
						<button class="ico star" onfocus="this.blur();"></button>默认样式</li>
					<li id="noLineStyle" class="menu" onclick="reloadTree('2')">
						<button class="ico star" onfocus="this.blur();"></button>不显示节点连线</li>
					<li id="diyIconStyle" class="menu" onclick="reloadTree('3')">
						<button class="ico star" onfocus="this.blur();"></button>icon属性自定义图标</li>
					<li id="cssIconStyle" class="menu" onclick="reloadTree('4')">
						<button class="ico star" onfocus="this.blur();"></button>css自定义图标（<font color="red">不兼容IE6</font>）
					</li>
					<ul>
						<INPUT TYPE="radio" id="sim" disabled NAME="cssSkin" checked onclick="reloadTree('4');">sim 系列
						<INPUT TYPE="radio" id="flag" disabled NAME="cssSkin" onclick="reloadTree('4');">flag 系列
					</ul>
				</ul>
			</li>	
		</div>	
		</TD>
	</TR>
</TABLE>

 </BODY>
</HTML>
