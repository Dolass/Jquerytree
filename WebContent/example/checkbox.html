<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
 <HEAD>
  <TITLE> ZTREE DEMO </TITLE>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="style/zTreeStyle.css" type="text/css">
  <style>
	body {
	background-color: white;
	margin:0; padding:0;
	text-align: center;
	}
	div, p, table, th, td {
		list-style:none; 
		margin:0; padding:0; 
		color:#333; font-size:12px; 
		font-family:宋体;
	}

	.tb1, .tb1 td {
		padding: 5px;
		border:1px dashed #EAB221;   
		border-collapse:collapse;  
	}

	.treeContent {
		width:200px; 
		height:400px; 
		overflow:auto;
		border:1px dashed #277327;  

	}
	
	.treeButton {
	width:13px; height:13px; 
	padding:0; margin:0 3px 0 0; 
	vertical-align:middle;
	border:0 none;
	cursor: auto;
	}
	
	.treeButton.checkbox_false_full { background:url("./style/img/checkbox.png") no-repeat scroll 0 0 transparent;}	
	.treeButton.checkbox_false_full_focus { background:url("./style/img/checkbox.png") no-repeat scroll 0 -12px transparent;}	
	.treeButton.checkbox_false_part { background:url("./style/img/checkbox.png") no-repeat scroll 0 -72px transparent;}	
	.treeButton.checkbox_false_part_focus { background:url("./style/img/checkbox.png") no-repeat scroll 0 -84px transparent;}	
	.treeButton.checkbox_true_full { background:url("./style/img/checkbox.png") no-repeat scroll 0 -24px transparent;}	
	.treeButton.checkbox_true_full_focus { background:url("./style/img/checkbox.png") no-repeat scroll 0 -36px transparent;}	
	.treeButton.checkbox_true_part { background:url("./style/img/checkbox.png") no-repeat scroll 0 -48px transparent;}	
	.treeButton.checkbox_true_part_focus { background:url("./style/img/checkbox.png") no-repeat scroll 0 -60px transparent;}	
	
  </style>
  <script type="text/javascript" src="jquery-1.4.2.js"></script>
  <script type="text/javascript" src="jquery-ztree-2.0.js"></script>

  <SCRIPT LANGUAGE="JavaScript">
  <!--
	var zTree1;
	var setting;

		setting = {
			checkable: true
		};

		var zNodes =[
			{ name:"手机", open:true,
				nodes: [
					{ name:"诺基亚"},
					{ name:"三星"},
					{ name:"索爱"},
					{ name:"多普达"}
				]},
			{ name:"电脑", open:true,
				nodes: [
					{ name:"硬件"},
					{ name:"整机"},
					{ name:"网络"}
				]},
			{ name:"家电", open:true,
				nodes: [
					{ name:"电视"},
					{ name:"冰箱"},
					{ name:"空调"}
				]}
						
		];

	$(document).ready(function(){

		setting.checkType = getCheckBoxType();
		zTree1 = $("#tree1").zTree(setting, zNodes);
		getSelectedNodesLength();

	});

	function zTreeOnClick(event, treeId, treeNode) {
		$("#lastClickNode").html("treeId=" + treeId + ";  tId=" + treeNode.tId + "; Name=" + treeNode.name + " (节点Index = " + zTree1.getNodeIndex(treeNode) + ")");
	}

	function zTreeOnChange(event, treeId, treeNode) {
		$("#lastChangeNode").html("treeId=" + treeId + ";  tId=" + treeNode.tId + "; Name=" + treeNode.name + "; Checked=" + treeNode.checkedNew);
		getCheckedNodesLength();
	}


	function getCheckBoxType() {
		var py = $("#py").attr("checked")? "p":"";
		var sy = $("#sy").attr("checked")? "s":"";
		var pn = $("#pn").attr("checked")? "p":"";
		var sn = $("#sn").attr("checked")? "s":"";
		
		var type = { "Y":py + sy, "N":pn + sn};
		return type;
	}

	function refreshTree() {
		setting.checkType = getCheckBoxType();
		zTree1 = $("#tree1").zTree(setting, zNodes);
		$("#lastClickNode").html("");
		$("#lastChangeNode").html("");
		getCheckedNodesLength();

	}

	function getCheckedNodesLength() {
		var tmp = zTree1.getCheckedNodes();
		$("#checkedNum").html(tmp.length);
	}
  //-->
  </SCRIPT>
 </HEAD>

<BODY>
<center style="margin:10px"><b>CheckBox&nbsp;&nbsp;演示</b></center>
<TABLE border=0 height=550px>
	<TR>
		<TD rowspan=2 width=200px align=left valign=top><div class="treeContent"><ul id="tree1" class="tree"></ul></div></TD>
		<TD height=120px align=center valign=top>
			<TABLE border=0 align=center class="tb1">
				<TR>
					<TD colspan=2 align=center valign=middle>CheckBox被选中时&nbsp;</TD>
					<TD colspan=2 align=center valign=middle>CheckBox被取消选中时&nbsp;</TD>
				</TR>
				<TR>
					<TD width=100px align=center valign=middle>影响父：<INPUT TYPE="checkbox" id="py" checked onchange="refreshTree();"></TD>
					<TD width=100px align=center valign=middle>影响子：<INPUT TYPE="checkbox" id="sy" checked onchange="refreshTree();"></TD>
					<TD width=100px align=center valign=middle>影响父：<INPUT TYPE="checkbox" id="pn" checked onchange="refreshTree();"></TD>
					<TD width=100px align=center valign=middle>影响子：<INPUT TYPE="checkbox" id="sn" checked onchange="refreshTree();"></TD>
				</TR>
				<TR>
					<TD colspan=4 align=center valign=middle style="color:blue">修改上面配置后，请点击 Tree 的 CheckBox，看看有什么变化</TD>
				</TR>
				<TR>
					<TD colspan=4 align=left valign=middle style="padding-left:10px;">
					<h3>状态说明</h3>
					<p>
					<button type="BUTTON" class="treeButton checkbox_false_full"></button>当前节点没有被选择；<font style="color:#338833">如果是父节点，则没有被选择的子节点</font>。<br/>
					&nbsp;&nbsp;&nbsp;鼠标移到该节点上显示为：<button type="BUTTON" class="treeButton checkbox_false_full_focus"></button></p><br/>
					<p>
					<button type="BUTTON" class="treeButton checkbox_false_part"></button>当前节点没有被选择；<font style="color:red">且有被选择的子节点（只有父节点存在此状态）</font>。<br/>
					&nbsp;&nbsp;&nbsp;鼠标移到该节点上显示为：<button type="BUTTON" class="treeButton checkbox_false_part_focus"></button></p><br/>
					<p>
					<button type="BUTTON" class="treeButton checkbox_true_full"></button>当前节点被选择；<font style="color:blue">如果是父节点，则全部子节点都被选择</font>。<br/>
					&nbsp;&nbsp;&nbsp;鼠标移到该节点上显示为：<button type="BUTTON" class="treeButton checkbox_true_full_focus"></button></p><br/>
					<p>
					<button type="BUTTON" class="treeButton checkbox_true_part"></button>当前节点被选择；<font style="color:#bb8844">且部分子节点被选择（只有父节点存在此状态）</font>。<br/>
					&nbsp;&nbsp;&nbsp;鼠标移到该节点上显示为：<button type="BUTTON" class="treeButton checkbox_true_part_focus"></button></p><br/>
					</TD>
				</TR>

			</TABLE>
		</TD>
	</TR>
	<TR>
		<TD width=500px align=left valign=top><br/>
		被选择的节点共 <a id="checkedNum">0</a> 个<br/><br/>
		onClick 事件：<a id="lastClickNode"></a><br/><br/>
		onChange 事件：<a id="lastChangeNode"></a>
		</TD>
	</TR>
</TABLE>

 </BODY>
</HTML>
